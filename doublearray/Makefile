DONT_EDIT := // Code generated by sed. DO NOT EDIT
FILES := \
		 search.bytes.go \
		 search.bytesdict.go \
		 search.runesdict.go
SED := sed -i "" -e

all: generate

generate: $(FILES)

clear_generated:
	rm $(FILES)

%.bytes.go: %.words.go
	echo "$(DONT_EDIT)" > $@
	cat $< >> $@
	$(SED) "s/Words/Bytes/" $@
	$(SED) "s/cs word.Word/cs []byte/" $@
	$(SED) "s/code := c/code := word.Code(c)/" $@
	goimports -w $@

%.runesdict.go: %.words.go
	echo "$(DONT_EDIT)" > $@
	cat $< >> $@
	$(SED) "s/struct{}/runes.Dict/" $@
	$(SED) "s/(Words)/(s RunesDict)/" $@
	$(SED) "s/Words/RunesDict/" $@
	$(SED) "s/cs word.Word/cs string/" $@
	$(SED) "s/code := c/code := runes.Dict(s).Code(c)/" $@
	goimports -w $@

%.bytesdict.go: %.words.go
	echo "$(DONT_EDIT)" > $@
	cat $< >> $@
	$(SED) "s/struct{}/bytes.Dict/" $@
	$(SED) "s/(Words)/(s BytesDict)/" $@
	$(SED) "s/Words/BytesDict/" $@
	$(SED) "s/cs word.Word/cs []byte/" $@
	$(SED) "s/code := c/code := bytes.Dict(s).Code(c)/" $@
	goimports -w $@
